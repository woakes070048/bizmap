<div ng-controller="AddBusinessCtrl as ctrl" layout="column" ng-cloak class="md-inline-form" ng-cloak>
  <md-content layout-padding>
    <div  layout="row" layout-align="center center">
      <md-card flex-gt-sm="100" flex-gt-md="80">
        <md-card-title>
          <md-card-title-text>
            <span class="md-headline">Add Your Business</span>
          </md-card-title-text>
        </md-card-title>
        <md-card-content>
          <form name="businessForm" ng-submit="submit()" ng-init="initGoogleLocation()">
            <div layout-gt-xs="row">
              <md-input-container class="md-block" flex-gt-xs>
                <label>Title</label>
                <input required ng-model="business.name" name="name" >
                <div ng-messages="businessForm.name.$error">
                  <div ng-message="required">This is required.</div>
                </div>
              </md-input-container>
            </div>
            <div layout-gt-sm="row">
              <md-input-container class="md-block" flex-gt-sm>
               <label>Main Category</label>
                <md-select name="mainCategory" ng-model="selectedMainCategory" ng-change="selectedMain()" required>
                  <md-option ng-repeat="item in categories" value="{{item}}">
                    {{item.name}}
                  </md-option>
                </md-select>
                <div ng-messages="businessForm.mainCategory.$error">
                  <div ng-message="required">This is required.</div>
                </div>
              </md-input-container>
              <md-input-container class="md-block" flex-gt-sm>
               <label>Sub Category </label>
                <md-select name="subCategory" ng-model="business.subCategory" required>
                  <md-option  ng-repeat="item in subcategories.sub_cat" value="{{item}}">
                    {{item}}
                  </md-option>
                </md-select>
                <div ng-messages="businessForm.subCategory.$error">
                  <div ng-message="required">This is required.</div>
                </div>
              </md-input-container>
            </div>
    
            <div layout-gt-sm="row">
              <md-input-container class="md-block" flex-gt-sm>
                <md-icon md-svg-icon="contact" class="default-icon"></md-icon>
                <input required ng-model="business.phone" name="phone" placeHolder="Phone Number">
                <div ng-messages="businessForm.phone.$error">
                  <div ng-message="required">This is required.</div>
                </div>
              </md-input-container>
              <md-input-container class="md-block" flex-gt-sm>
                <md-icon md-svg-icon="email" class="default-icon"></md-icon>
                <input required ng-model="business.email" name="email" placeholder="Email">
                <div ng-messages="businessForm.email.$error">
                  <div ng-message="required">This is required.</div>
                </div>
              </md-input-container>
            </div>
            <div layout-gt-sm="row">
              <md-input-container class="md-block" flex-gt-sm>
                <md-icon md-svg-icon="hangouts" class="default-icon"></md-icon>
                <input ng-model="business.website" name="website" placeHolder="Website">
              </md-input-container>
              <md-input-container class="md-block" flex-gt-sm>
                <md-icon md-svg-icon="person" class="default-icon"></md-icon>
                <input ng-model="business.contactPerson" name="contactPerson" placeholder="Contact Person">
              </md-input-container>
            </div>
            <md-input-container class="md-block">
              <md-icon md-svg-icon="location" class="default-icon"></md-icon>
              <input required ng-model="business.address" aria-label="Address" id="address">
              <div ng-messages="businessForm.address.$error">
                  <div ng-message="required">This is required.</div>
                </div>
            </md-input-container>
            <div layout-gt-sm="row">
              <md-input-container class="md-block" flex-gt-sm>
                <label>City</label>
                <input required ng-model="business.city">
              </md-input-container>
              <md-input-container class="md-block" flex-gt-sm>
                <label>State</label>
                <md-select ng-model="business.state">
                  <md-option ng-repeat="state in states" value="{{state.abbrev}}">
                    {{state.abbrev}}
                  </md-option>
                </md-select>
              </md-input-container>
              <md-input-container class="md-block" flex-gt-sm>
                <label>Postal Code</label>
                <input name="postalCode" ng-model="business.postalCode" placeholder="12345"
                  required ng-pattern="/^[0-9]{5}$/" md-maxlength="5">
                <div ng-messages="businessForm.postalCode.$error" role="alert" multiple>
                  <div ng-message="required" class="my-message">You must supply a postal code.</div>
                  <div ng-message="pattern" class="my-message">That doesn't look like a valid postal
                    code.
                  </div>
                </div>
              </md-input-container>
            </div>
            <div layout-gt-xs="row">
              <md-input-container class="md-block" flex-gt-xs>
                <label>Description</label>
                <textarea ng-model="business.description" md-maxlength="1000" rows="5" md-select-on-focus></textarea>
              </md-input-container>
            </div>
            <lf-ng-md-file-input lf-files="businessLogo" name="businessLogo" lf-browse-label="Upload" lf-required lf-placeholder="Business Logo" lf-remove-label="Delete" lf-drag-and-drop-label="Drag and Drop Your Business Logo here!" drag preview></lf-ng-md-file-input>
            <div ng-messages="businessForm.businessLogo.$error" style="color:red;">
                  <div ng-message="required">This is required.</div>
                </div>
    
            <md-button ng-disabled="businessForm.$invalid" type="submit" class="md-raised md-primary">Save</md-button>
          </form>
    </div>
    </md-card-content>
    </md-card>
</div>
<div>
</md-content>
</div>
